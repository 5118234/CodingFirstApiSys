# CodingFirst | 一码当先 代码开发规范
> 基本遵循阿里巴巴JAVA代码规范，此为前提。
>
> 所有规范为试行，不代表现有代码完全遵循规范。如果可以，可协助修改
## 命名和设计规范
1. 对应数据库表的JAVA类
    - 遵循驼峰对应下划线规则
    - 该类型的类统一放置于 team.fjut.cf.pojo.po 内
    - 例子：表 t_user_info 对应 类 UserInfo，视图 v_user_info 对应 类 ViewUserInfo

2. 对应前端业务的视图VO类
    - 根据前端所需内容设计的视图类按功能命名，并加“VO”后缀
    - 该类型的类统一放置于 team.fjut.cf.pojo.vo 内
    - 例子：题目列表的视图类 ProblemListVO
    
3. 业务所需的枚举类
    - 根据功能和内容命名，遵循类命名方式
    - 该类型的枚举统一放置于 team.fjut.cf.pojo.enums 内
    
4. 数据层 Mybatis Mapper接口和实现
    - 根据数据库表对应JAVA类命名，并加“Mapper”后缀
    - 该类型的接口统一放置于 team.fjut.cf.mapper 内
    - 如果有对接口的xml文件实现，放置于 resources/mapper 内
    
5. 业务层 Service接口和实现
    - 根据数据库表对应JAVA类命名，并加“Service”后缀
    - 该类型的接口统一放置于 team.fjut.cf.service 内
    - 该类型的实现类统一放置于 team.fjut.cf.service.impl 内
    - 如果执行同表的业务调用，只允许调用同表的Mapper
    - 如果是平级业务调用，则只允许调用其他Service
    - 例子：插入t_user_info表内容后需要更新t_problem_info表，
    调用方式为在UserInfoService内调用UserInfoMapper插入数据，
    并调用ProblemInfoService执行其他表的业务
    
6. 控制层 Controller类
    - 根据业务分类和命名，并加“Controller”后缀
    - 该类型的类统一放置于 team.fjut.cf.controller 内
    - 只允许调用Service，**不允许**直接调用Mapper
    - 同级之间不可调用，但可调用其他非MVC结构的工具类
    - API系统唯一的对外出入口，**不允许**在其他地方编写出入口
    - 如果类的返回值中包含用户个人信息等敏感资源，必须根据业务启用相关的权限控制注解
    - 该类型的类统一的返回值为ResultJson类
    

## 注释规范
1. 类注释
    - 需要包含作者和代码编写时间
    - 如果是非MVC结构内的类等，需要解释功能
    - 如果进行了大量修改，需要标注
    - 采用 /** */格式注解

2. 方法注释
    - 需要包含作者和代码编写时间
    - 复杂业务需要解释功能
    - 采用 /** */格式注解

3. 代码注释
    - 复杂业务需要解释的采用代码注解
    - 解释的内容为注解下一行或者多行的内容，**不可**采用行尾注解
    - 可采用 /* */ 或 //
 
## 编程规范
1. GIT相关
    - **不允许**直接采用force提交，如果有冲突必须与冲突代码的编写者协商解决
    - 尽可能不提交功能未完善的内容到master中
    - 尽可能开辟单独分支，或采用分库的方式开发自己的代码
    - **不准提交**包含生产环境下涉及账号、密码、端口的文件到GitHub中
    - **不准转让**个人带权限的GitLab账号密码